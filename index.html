<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>Admin – Quản lý Plans</title>
  <style>
    :root {
      --bg: #f5f7fb;
      --card-bg: #ffffff;
      --border: #e1e4ec;
      --primary: #2563eb;
      --primary-soft: rgba(37, 99, 235, 0.08);
      --text-main: #111827;
      --text-muted: #6b7280;
      --danger: #dc2626;
      --success: #16a34a;
      --radius-lg: 16px;
      --shadow-soft: 0 10px 30px rgba(15, 23, 42, 0.08);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Helvetica Neue", Arial, sans-serif;
      background: var(--bg);
      color: var(--text-main);
    }

    .page {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* HEADER */

    .topbar {
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 24px;
      border-bottom: 1px solid var(--border);
      background: #ffffffcc;
      backdrop-filter: blur(10px);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .topbar-title {
      font-weight: 600;
      font-size: 18px;
      letter-spacing: 0.02em;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .topbar-title-badge {
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 999px;
      background: var(--primary-soft);
      color: var(--primary);
      text-transform: uppercase;
    }

    .topbar-user {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 14px;
      color: var(--text-muted);
    }

    .avatar {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      background: linear-gradient(135deg, #4f46e5, #0ea5e9);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 600;
      font-size: 14px;
    }

    /* MAIN LAYOUT */

    .content {
      padding: 24px;
      display: grid;
      grid-template-columns: minmax(0, 2.1fr) minmax(360px, 1.1fr);
      gap: 24px;
      align-items: flex-start;
    }

    @media (max-width: 1024px) {
      .content {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .card {
      background: var(--card-bg);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(148, 163, 184, 0.18);
      padding: 18px 20px 20px;
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 14px;
    }

    .card-title {
      font-size: 16px;
      font-weight: 600;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .card-subtitle {
      font-size: 12px;
      color: var(--text-muted);
    }

    /* CONTROLS */

    .toolbar {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 12px;
    }

    .input {
      border-radius: 999px;
      padding: 8px 12px;
      border: 1px solid var(--border);
      font-size: 13px;
      outline: none;
      min-width: 0;
      background: #f9fafb;
    }

    .input:focus {
      border-color: var(--primary);
      background: white;
    }

    .toolbar-left {
      display: flex;
      flex: 1;
      gap: 8px;
      min-width: 220px;
    }

    .toolbar-right {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .select {
      appearance: none;
      padding-right: 30px;
      background-image: linear-gradient(45deg, transparent 50%, #9ca3af 50%),
        linear-gradient(135deg, #9ca3af 50%, transparent 50%);
      background-position: calc(100% - 12px) 50%, calc(100% - 8px) 50%;
      background-size: 4px 4px, 4px 4px;
      background-repeat: no-repeat;
    }

    .btn {
      border-radius: 999px;
      padding: 8px 14px;
      border: 1px solid transparent;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: var(--primary);
      color: white;
      transition: transform 0.05s ease-out, box-shadow 0.05s ease-out,
        background 0.15s;
      box-shadow: 0 6px 16px rgba(37, 99, 235, 0.28);
      white-space: nowrap;
    }

    .btn-secondary {
      background: transparent;
      color: var(--text-main);
      border-color: var(--border);
      box-shadow: none;
    }

    .btn-ghost {
      background: transparent;
      border-color: transparent;
      box-shadow: none;
      padding-inline: 8px;
      color: var(--text-muted);
    }

    .btn-icon {
      width: 28px;
      height: 28px;
      padding: 0;
      justify-content: center;
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 25px rgba(37, 99, 235, 0.35);
    }

    .btn-secondary:hover {
      background: #f3f4ff;
      box-shadow: none;
    }

    .btn-ghost:hover {
      background: #f3f4ff;
    }

    /* TABLE */

    .table-wrapper {
      border-radius: 14px;
      border: 1px solid var(--border);
      overflow: hidden;
      background: #f9fafb;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
    }

    thead {
      background: #f3f4ff;
    }

    th,
    td {
      padding: 10px 12px;
      text-align: left;
      border-bottom: 1px solid #e5e7eb;
    }

    th {
      font-weight: 600;
      font-size: 12px;
      color: #6b7280;
      text-transform: uppercase;
      letter-spacing: 0.04em;
    }

    tbody tr:hover {
      background: #eef2ff;
    }

    .col-code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
        "Liberation Mono", "Courier New", monospace;
      font-size: 12px;
      color: #4b5563;
    }

    .col-name {
      font-weight: 500;
    }

    .col-price {
      font-weight: 600;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      padding: 2px 10px;
      border-radius: 999px;
      font-size: 11px;
      font-weight: 500;
      letter-spacing: 0.03em;
      text-transform: uppercase;
    }

    .badge-active {
      background: rgba(22, 163, 74, 0.08);
      color: var(--success);
    }

    .badge-inactive {
      background: rgba(148, 163, 184, 0.16);
      color: #6b7280;
    }

    .badge-featured {
      background: rgba(37, 99, 235, 0.08);
      color: var(--primary);
    }

    .table-actions {
      display: flex;
      gap: 4px;
    }

    .pill {
      display: inline-flex;
      gap: 4px;
      align-items: center;
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 999px;
      background: rgba(37, 99, 235, 0.05);
      color: #1f2937;
    }

    /* PAGINATION (dummy) */

    .pagination {
      padding: 8px 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 12px;
      color: var(--text-muted);
      background: #ffffff;
    }

    .pagination-pages {
      display: flex;
      gap: 4px;
      align-items: center;
    }

    .page-btn {
      min-width: 26px;
      height: 26px;
      border-radius: 999px;
      border: 1px solid transparent;
      background: transparent;
      cursor: pointer;
      font-size: 12px;
    }

    .page-btn.active {
      background: var(--primary);
      color: #fff;
      border-color: transparent;
    }

    .page-btn:hover:not(.active) {
      background: #f3f4ff;
      border-color: #e5e7eb;
    }

    /* FORM */

    .form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 4px;
      font-size: 13px;
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .field label {
      font-size: 12px;
      font-weight: 500;
      color: #4b5563;
    }

    .field small {
      font-size: 11px;
      color: var(--text-muted);
    }

    .field-row {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px;
    }

    .field input,
    .field textarea,
    .field select {
      border-radius: 10px;
      border: 1px solid var(--border);
      padding: 7px 10px;
      font-size: 13px;
      outline: none;
      background: #f9fafb;
      resize: vertical;
      min-height: 34px;
    }

    .field input:focus,
    .field textarea:focus,
    .field select:focus {
      border-color: var(--primary);
      background: white;
    }

    .form-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 8px;
      gap: 8px;
    }

    .toggle {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
      color: var(--text-muted);
    }

    .toggle input {
      accent-color: var(--primary);
    }

    .help-text {
      font-size: 11px;
      color: var(--text-muted);
      margin-top: 4px;
    }

    code {
      font-size: 11px;
      background: #f3f4ff;
      padding: 1px 4px;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <div class="page">
    <!-- TOP BAR -->
    <header class="topbar">
      <div class="topbar-title">
        Quản lý Plans
        <span class="topbar-title-badge">Billing</span>
      </div>
      <div class="topbar-user">
        Admin
        <div class="avatar">AD</div>
      </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="content">
      <!-- LEFT: PLAN TABLE -->
      <section class="card">
        <div class="card-header">
          <div class="card-title">
            <span>Danh sách Plans</span>
            <span class="card-subtitle">
              Quản lý các gói subscription (FREE / PRO / CUSTOM) và thứ tự hiển thị.
            </span>
          </div>
          <button class="btn">
            <span>＋</span>
            <span>Plan mới</span>
          </button>
        </div>

        <div class="toolbar">
          <div class="toolbar-left">
            <input
              class="input"
              type="text"
              placeholder="Tìm theo tên, code, mô tả…"
            />
            <select class="input select">
              <option value="">Tất cả tier</option>
              <option value="free">Free</option>
              <option value="standard">Standard</option>
              <option value="pro">Pro</option>
              <option value="custom">Custom</option>
              <option value="enterprise">Enterprise</option>
            </select>
            <select class="input select">
              <option value="">Billing cycle</option>
              <option value="monthly">Monthly</option>
              <option value="yearly">Yearly</option>
            </select>
          </div>
          <div class="toolbar-right">
            <button class="btn-secondary btn">Xuất CSV</button>
            <button class="btn-ghost btn-icon">⋮</button>
          </div>
        </div>

        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Code</th>
                <th>Tên gói</th>
                <th>Tier</th>
                <th>Giá</th>
                <th>Chu kỳ</th>
                <th>Thứ tự</th>
                <th>Trạng thái</th>
                <th>Nổi bật</th>
                <th style="width: 80px;">Thao tác</th>
              </tr>
            </thead>
            <tbody>
              <!-- Demo row: FREE -->
              <tr>
                <td class="col-code">FREE</td>
                <td class="col-name">
                  Free Plan
                  <div class="card-subtitle">
                    Gói miễn phí, giới hạn credits.
                  </div>
                </td>
                <td>free</td>
                <td class="col-price">0 VND</td>
                <td>monthly</td>
                <td>1</td>
                <td>
                  <span class="badge badge-active">Active</span>
                </td>
                <td>
                  <span class="badge badge-inactive">No</span>
                </td>
                <td>
                  <div class="table-actions">
                    <button class="btn-ghost btn-icon" title="Sửa">✏️</button>
                    <button
                      class="btn-ghost btn-icon"
                      title="Tắt"
                      style="color: var(--danger)"
                    >
                      ⏸
                    </button>
                  </div>
                </td>
              </tr>

              <!-- Demo row: PRO -->
              <tr>
                <td class="col-code">PRO</td>
                <td class="col-name">
                  Pro Plan
                  <div class="card-subtitle">
                    Gói trả phí chính, nhiều credits hơn.
                  </div>
                </td>
                <td>pro</td>
                <td class="col-price">199,000 VND</td>
                <td>monthly</td>
                <td>2</td>
                <td>
                  <span class="badge badge-active">Active</span>
                </td>
                <td>
                  <span class="badge badge-featured">Featured</span>
                </td>
                <td>
                  <div class="table-actions">
                    <button class="btn-ghost btn-icon">✏️</button>
                    <button
                      class="btn-ghost btn-icon"
                      style="color: var(--danger)"
                    >
                      ⏸
                    </button>
                  </div>
                </td>
              </tr>

              <!-- Demo row: CUSTOM -->
              <tr>
                <td class="col-code">CUSTOM</td>
                <td class="col-name">
                  Enterprise Custom
                  <div class="card-subtitle">
                    Giá custom cho doanh nghiệp.
                  </div>
                </td>
                <td>custom</td>
                <td class="col-price">Custom</td>
                <td>yearly</td>
                <td>3</td>
                <td>
                  <span class="badge badge-active">Active</span>
                </td>
                <td>
                  <span class="badge badge-inactive">No</span>
                </td>
                <td>
                  <div class="table-actions">
                    <button class="btn-ghost btn-icon">✏️</button>
                    <button
                      class="btn-ghost btn-icon"
                      style="color: var(--success)"
                    >
                      ▶️
                    </button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>

          <div class="pagination">
            <span>Hiển thị 1–3 / 3 plans</span>
            <div class="pagination-pages">
              <button class="page-btn">‹</button>
              <button class="page-btn active">1</button>
              <button class="page-btn">›</button>
            </div>
          </div>
        </div>
      </section>

      <!-- RIGHT: CREATE / EDIT FORM -->
      <aside class="card">
        <div class="card-header">
          <div class="card-title">
            <span>Tạo / sửa Plan</span>
            <span class="card-subtitle">
              Form map với model <code>Plan</code> (FastAPI / SQLModel).
            </span>
          </div>
          <button class="btn-secondary btn-ghost">Xoá trắng</button>
        </div>

        <form class="form">
          <!-- code + name -->
          <div class="field-row">
            <div class="field">
              <label for="code">Code *</label>
              <input id="code" type="text" placeholder="VD: FREE, PRO, CUSTOM" />
              <small>Unique, dùng cho logic & pricing.</small>
            </div>
            <div class="field">
              <label for="name">Tên gói *</label>
              <input
                id="name"
                type="text"
                placeholder="VD: Free Plan, Pro Monthly…"
              />
            </div>
          </div>

          <!-- tier + sort_index -->
          <div class="field-row">
            <div class="field">
              <label for="tier">Tier</label>
              <select id="tier">
                <option value="free">free</option>
                <option value="standard">standard</option>
                <option value="pro">pro</option>
                <option value="custom">custom</option>
                <option value="enterprise">enterprise</option>
              </select>
              <small>Quy ước loại plan (Free / Pro / Custom…).</small>
            </div>
            <div class="field">
              <label for="sort_index">Thứ tự hiển thị</label>
              <input id="sort_index" type="number" placeholder="1,2,3…" />
              <small>Plan có sort_index nhỏ sẽ đứng trước.</small>
            </div>
          </div>

          <!-- price + billing -->
          <div class="field-row">
            <div class="field">
              <label for="price">Giá</label>
              <input id="price" type="number" placeholder="199000" />
              <small>Đơn vị theo <code>currency</code>.</small>
            </div>
            <div class="field">
              <label for="currency">Currency</label>
              <select id="currency">
                <option value="VND">VND</option>
                <option value="USD">USD</option>
              </select>
            </div>
          </div>

          <div class="field-row">
            <div class="field">
              <label for="billing_cycle">Billing cycle</label>
              <select id="billing_cycle">
                <option value="monthly">monthly</option>
                <option value="yearly">yearly</option>
              </select>
            </div>
            <div class="field">
              <label for="available_project">Số project tối đa</label>
              <input id="available_project" type="number" placeholder="VD: 3" />
            </div>
          </div>

          <!-- credits -->
          <div class="field-row">
            <div class="field">
              <label for="monthly_credits">Monthly credits</label>
              <input id="monthly_credits" type="number" placeholder="VD: 200" />
              <small>Map với cột <code>monthly_credits</code>.</small>
            </div>
            <div class="field">
              <label for="addition_credits">Bonus credits</label>
              <input id="addition_credits" type="number" placeholder="VD: 50" />
              <small>Thưởng thêm khi đăng ký / khuyến mãi.</small>
            </div>
          </div>

          <!-- description -->
          <div class="field">
            <label for="description">Mô tả</label>
            <textarea
              id="description"
              rows="2"
              placeholder="Mô tả ngắn dùng cho UI & invoice…"
            ></textarea>
          </div>

          <!-- features_text -->
          <div class="field">
            <label for="features_text">
              Tính năng (features_text)
            </label>
            <textarea
              id="features_text"
              rows="4"
              placeholder="Mỗi dòng là 1 tính năng, ví dụ:
Real-time code suggestions
Basic integration logos
Single MCP server connection
Up to 2 AI coding agents"
            ></textarea>
            <small>
              Frontend có thể <code>split('\n')</code> để render list bullet
              với icon ✓ như UI pricing.
            </small>
          </div>

          <!-- toggles -->
          <div class="field-row">
            <div class="field">
              <label>Trạng thái</label>
              <div class="toggle">
                <input id="is_active" type="checkbox" checked />
                <span>is_active – cho phép user dùng / subscribe</span>
              </div>
              <div class="toggle">
                <input id="is_featured" type="checkbox" />
                <span>is_featured – hiển thị như gói nổi bật</span>
              </div>
            </div>
            <div class="field">
              <label>Giá custom</label>
              <div class="toggle">
                <input id="is_custom_price" type="checkbox" />
                <span>is_custom_price – UI hiển thị “Custom / Liên hệ”</span>
              </div>
            </div>
          </div>

          <div class="help-text">
            Khi bấm lưu, frontend sẽ gọi API
            <code>POST /admin/plans</code> hoặc
            <code>PATCH /admin/plans/:id</code> với payload map đúng schema
            <code>PlanCreate / PlanUpdate</code>.
          </div>

          <div class="form-footer">
            <button type="button" class="btn-secondary btn">
              Hủy
            </button>
            <button type="submit" class="btn">
              Lưu plan
            </button>
          </div>
        </form>
      </aside>
    </main>
  </div>
</body>
</html>
